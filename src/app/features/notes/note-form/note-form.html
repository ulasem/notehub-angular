<form [formGroup]="noteForm" (ngSubmit)="onSubmit()" class="form">
  <div class="form-group">
    <label for="title">Title</label>
    <input
      id="title"
      type="text"
      formControlName="title"
      class="input"
      [class.invalid]="title?.invalid && title?.touched"
    />
    @if (title?.hasError('required') && title?.touched) {
    <span class="error">Title is required</span>
    } @if (title?.hasError('minlength') && title?.touched) {
    <span class="error">Minimum 3 characters</span>
    } @if (title?.hasError('maxlength') && title?.touched) {
    <span class="error">Maximum 50 characters</span>
    }
  </div>

  <div class="form-group">
    <label for="content">Content</label>
    <textarea
      id="content"
      formControlName="content"
      rows="8"
      class="textarea"
      [class.invalid]="content?.invalid && content?.touched"
    ></textarea>
    @if (content?.hasError('maxlength') && content?.touched) {
    <span class="error">Maximum 500 characters</span>
    }
  </div>

  <div class="form-group">
    <label for="tag">Tag</label>
    <select id="tag" formControlName="tag" class="select">
      <option value="Todo">Todo</option>
      <option value="Work">Work</option>
      <option value="Personal">Personal</option>
      <option value="Meeting">Meeting</option>
      <option value="Shopping">Shopping</option>
    </select>
  </div>

  <div class="actions">
    <button type="button" class="cancel-button" (click)="onCancel()">Cancel</button>
    <button type="submit" class="submit-button" [disabled]="noteForm.invalid || isSubmitting">
      {{ isSubmitting ? 'Creating...' : 'Create note' }}
    </button>
  </div>
</form>
